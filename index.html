<!DOCTYPE html>
<html lang="en">
<!-- Stop being a creep and looking at my code! -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat.AL</title>
    <link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        img {
            width: 300px;
            height: 300px;
            margin-bottom: -20px;
        }

        /* HEADER */
        h1 {
            margin-bottom: 0px;
            font-family: 'Tiny5', Courier, monospace;
            font-size: 50pt;
            font-weight: normal;
        }

        /* SUBHEADER */
        h2 {
            margin-bottom: 20px;
            font-family: 'Tiny5', Courier, monospace;
            font-size: 20pt;
            font-weight: normal;
        }
        input[type="text"] {
            padding: 10px;
            border: none;
            border-radius: 5px;
            margin-bottom: 10px;
            width: 300px;
            text-align: center;
            font-size: 20px;
        }

        /* BUTTON CONTAINER */
        .button-container {
            display: flex;
            align-items: center; /* Center items vertically */
        }

        /* GEN BUTTON */
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #8ff9a0; /* Generate button color */
            color: black;
            cursor: pointer;
            font-size: 16px;
            height: 35px; /* Ensure button height matches the icon */
        }

         /* REGEN BUTTON */
         button.regenerate {
            background-color: #f8f670; /* Regenerate button color */
        }
        button:disabled {
            background-color: #333;
            cursor: not-allowed;
        }
        button:hover:not(:disabled) {
            opacity: 0.9;
        }

        /* AUDIO ICON */
        .audio-icon {
            width: 30px; /* Width of the icon */
            height: 30px; /* Height of the icon */
            cursor: pointer;
            margin-top: -20px;
            margin-left: 10px; /* Space between button and icon */
        }

        /* RESPONSE TEXT */
        p.response {
            margin-top: 30px;
            font-size: 20pt;
            text-align: center;
            font-family: 'Comic Sans MS', cursive, sans-serif; /* Comic Sans italic */
            font-style: italic;
        }

        /* Signature */
        .signature {
            margin-top: 0; /* No margin to ensure it's right after the response */
            font-size: 20pt;
            font-family: 'Comic Sans MS', Courier, monospace; /* Courier New Regular */
        }
    </style>
</head>
<body>
    <img src="FACE.jpg" alt="Image" id="topImage">
    <h1>Chat.AL</h1>
    <h2>Your Alan AI Assistance.</h2>
    <input type="text" id="question" placeholder="Type your question here" oninput="checkInput()" onkeydown="checkEnter(event)">
    <div class="button-container">
        <button id="submitBtn" onclick="getResponse()">Generate</button>
        <img src="Audio_ON.svg" alt="Audio Icon" class="audio-icon" id="audioToggle" onclick="toggleAudio()">
    </div>
    <p id="response" class="response"></p>
    <p class="signature" id="signature"></p>

    <script>
        let typing = false; // Track whether typing is in progress
        let audioEnabled = true; // Audio is enabled by default
        let currentWord = ""; // To store the current word being typed

        function checkEnter(event) {
            if (event.key === "Enter") {
                getResponse();
            }
        }

        function checkInput() {
            const inputField = document.getElementById("question");
            const submitButton = document.getElementById("submitBtn");

            // Reset the button text to "Generate" if the input field is blank or contains only spaces
            if (inputField.value.trim() === "") {
                submitButton.textContent = "Generate";
                submitButton.classList.remove('regenerate');
            }
        }

        function getResponse() {
            const inputField = document.getElementById("question");
            const submitButton = document.getElementById("submitBtn");

            // Do nothing if the input is blank or only contains spaces
            if (inputField.value.trim() === "" || typing) {
                return;
            }

            // Disable the button to prevent multiple clicks
            submitButton.disabled = true;

            const responses = [
                "Interesting question.",
                "That’s something to think about.",
                "It’s not clear.",
                "I wonder about that too.",
                "There are many ways to see it.",
                "That could go in different directions.",
                "That’s up for interpretation.",
                "The answer may surprise you.",
                "It’s worth pondering.",
                "That’s a question for the ages.",
                "The answer is out there.",
                "That’s a tough one.",
                "It depends on perspective.",
                "Who’s to say?",
                "That’s an open-ended question.",
                "The possibilities are endless.",
                "That’s a complex one.",
                "It’s not for me to say.",
                "That’s an interesting thought.",
                "There are multiple angles.",
                "It’s a bit of a mystery.",
                "The answer might be closer than you think.",
                "There’s more to it than meets the eye.",
                "That’s worth exploring.",
                "That could be anything.",
                "That’s a question with many layers.",
                "The answer may be just around the corner.",
                "It’s hard to pin down.",
                "That’s a deep question.",
                "The answer might surprise you.",
                "It’s anyone’s guess.",
                "The answer could be out there.",
                "There’s more than one way to look at it.",
                "That’s a question that can’t be easily answered.",
                "The possibilities are intriguing.",
                "That’s a question without a clear answer.",
                "It’s a question for another day.",
                "There’s no one answer.",
                "It’s an interesting idea.",
                "That’s a question with no easy answer.",
                "There’s more than meets the eye.",
                "That’s not something easily answered.",
                "The answer might be hidden.",
                "It’s a question worth contemplating.",
                "That’s a question that might not have a single answer.",
                "There’s a lot to consider.",
                "It’s a question with many possibilities.",
                "The answer could vary.",
                "That’s a thought-provoking question.",
                "The answer might not be straightforward.",
                "It’s a question with no definitive answer.",
                "There’s a lot to unpack there.",
                "It’s a question that could go many ways.",
                "The answer might be elusive.",
                "That’s a question with no simple answer.",
                "There’s no telling.",
                "It’s a question that could have many answers.",
                "The answer might be closer than you think.",
                "It’s a question worth asking.",
                "There’s a lot of depth to that question.",
                "It’s a question that could be explored further.",
                "The answer might be out there.",
                "It’s a question that defies easy answers.",
                "The possibilities are intriguing.",
                "That’s a question with no certain answer.",
                "It’s a question that invites more questions.",
                "There’s more to consider.",
                "It’s a question that’s hard to answer.",
                "The answer might be more complicated than it seems.",
                "That’s a question that could take time to answer.",
                "There’s no easy answer.",
                "It’s a question that opens up more questions.",
                "The answer might be found in time.",
                "It’s a question that could have many interpretations.",
                "There’s no way to know for sure.",
                "It’s a question that could be answered in many ways.",
                "The answer might change with time.",
                "It’s a question that could have many outcomes.",
                "There’s a lot of uncertainty.",
                "It’s a question that invites thought.",
                "The answer might depend on perspective.",
                "It’s a question with no right or wrong answer.",
                "There’s more to think about.",
                "It’s a question that could have multiple answers.",
                "The answer might be different for everyone.",
                "It’s a question that leaves room for interpretation.",
                "There’s no single answer.",
                "It’s a question that might not have a clear answer.",
                "The answer might evolve over time.",
                "It’s a question that can’t be easily resolved.",
                "There’s more than one way to answer that.",
                "It’s a question that invites curiosity.",
                "The answer might be found in the future.",
                "It’s a question that could have a variety of answers.",
                "There’s no clear-cut answer.",
                "It’s a question that might remain unanswered.",
                "The answer might be hidden in plain sight.",
                "It’s a question that challenges easy answers.",
                "There’s no definitive response.",
                "It’s a question that might never be fully answered."
            ];

            const randomIndex = Math.floor(Math.random() * responses.length);
            const randomResponse = responses[randomIndex];

            // Clear the previous response and signature before typing the new one
            document.getElementById("response").textContent = "";
            document.getElementById("signature").textContent = "";
            typing = true;
            currentWord = ""; // Reset the current word
            typeLetterByLetter(`"${randomResponse}"`, 0, () => {
                // After typing is complete, show the signature and enable the button
                document.getElementById("signature").textContent = "- AL";
                document.getElementById("submitBtn").disabled = false;
                document.getElementById("submitBtn").textContent = "Regenerate";
                document.getElementById("submitBtn").classList.add('regenerate');
                typing = false;
            });
        }

        function typeLetterByLetter(text, i, callback) {
            if (i < text.length) {
                const currentChar = text.charAt(i);
                document.getElementById("response").textContent += currentChar;
                currentWord += currentChar;

                // Check if the current character is a space or punctuation, which indicates the end of a word
                if (currentChar === ' ' || i === text.length - 1 || [',', '.', '!', '?'].includes(currentChar)) {
                    if (audioEnabled && currentWord.trim() !== "") {
                        speakText(currentWord.trim().replace(/"/g, '')); // Speak the word without quotation marks
                    }
                    currentWord = ""; // Reset the current word after speaking it
                }

                setTimeout(function() {
                    typeLetterByLetter(text, i + 1, callback);
                }, 100); // Adjust typing speed by changing the delay (in milliseconds)
            } else if (callback) {
                callback();
            }
        }

        function speakText(text) {
            // Ensure the text does not include quotation marks and handle the speaking
            const cleanedText = text.replace(/"/g, '');
            const utterance = new SpeechSynthesisUtterance(cleanedText);
            utterance.rate = 1.2; // Adjust the speech rate if needed
            window.speechSynthesis.speak(utterance);
        }

        function toggleAudio() {
            audioEnabled = !audioEnabled;
            const audioIcon = document.getElementById("audioToggle");
            if (audioEnabled) {
                audioIcon.src = "Audio_ON.svg"; // Replace with the URL for the audio on icon
            } else {
                audioIcon.src = "Audio_OFF.svg"; // Replace with the URL for the audio off icon
            }
        }
    </script>
</body>
</html>
